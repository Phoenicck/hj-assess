# 实战一
## 实现思路
1. 先对图像进行预处理，先转为灰度；二值化（到这里大部分的区域已经满足）；再顶帽运算除去比较大的部分，否则易出现contours找不到，最后再膨胀一下。
2. 对于模板数字，先预处理；然后提取轮廓；对轮廓进行拟合；画出包含其最大的矩形，记录下来。并且将10个数字分割存储。
3. 对于图像的相似度对比，先进行哈希均值计算，其实使用一个vector记录下来
4. 对得到的10个数字图像，再进行哈希均值计算，并将它们的类哈希表记录。
5. 对银行卡同样进行提取，但是银行卡数字的提取部分，筛选条件面积、宽高比、位置、需手动寻找，或者creatTracker找一下。
6. 获取银行卡每个数字的类哈希表，然后比较，输出。
## 优点
1. 利用哈希均值算法提取特征，调节resize的大小，可改变精度
2. 没了，就满足要求提取出来。
## 缺点
1. 对于roi区域的提取及其麻烦，需要满足的区间条件都要手动寻找；同时二值化，顶帽，膨胀的核都是手动找到适合的
2. 工程文件的格式化不够规范
3. 比较鸡肋的一个是，银行卡的roi提取，最后是利用y方向上的位置。。

# 实战二
## 实现思路
1. 对图像进行预处理，其中矫正视相机质量是否执行；因为矫正速度比较慢，默认不矫正
2. 进行通道分离，合并，二值化，膨胀等操作
3. 进行矩形拟合，根据面积、长宽比特征进行筛选
4. 灯条匹配，根据旋转角度&&y方向的差距进行筛选
5. 标定，坐标系转换，pnp求解，计算距离。
6. 默认高亮度，低亮度自行添加低亮度图片，编号108以前都可以识别。

## 优点
1. 利用椭圆拟合进行进行第一步的筛选灯条
2. 自定义了画最小矩形，计算两个点的函数；自定义了一个存储两个矩形的类
3. 利用角度，y方向差距，长宽比进行筛选。
4. 利用比例尺的概念进行坐标系的转换（获取世界坐标的真实尺寸）
5. 巧妙利用各种特征进行匹配，筛选
## 缺点
1. 对于高亮度的可能误判车最上面的两个灯条为一个甲板，但不影响最后的识别
2. 对于低亮度部分，在编号108后照片倾斜角过大就无法正确查找灯条，导致出现vector超限，程序被迫停止。